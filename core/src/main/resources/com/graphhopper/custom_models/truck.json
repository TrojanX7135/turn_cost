// to use this custom model you need to set the following option in the config.yml
// graph.vehicles: roads|transportation_mode=HGV,car
// graph.encoded_values: toll,hgv,surface,max_width,max_height
// profiles:
//    - name: truck
//      vehicle: roads
//      weighting: custom
//      custom_model_files: [truck.json]

{
  "distance_influence": 1,
  "priority": [
      { "if": "road_access == PRIVATE",  "multiply_by": "0" },
      { "if": "car_access == false || hgv == NO || max_width < 3 || max_height < 4", "multiply_by": "0" },

      { "if": "max_weight < 2.5 && truck_access_conditional == MISSING","multiply_by": "0"},
      { "if": "max_weight < 2.5 && truck_access_conditional == NO", "multiply_by": "0" },
      { "if": "truck_access_conditional == NO", "multiply_by": "0" },
      { "if": "truck_traffic_conditional == NO", "multiply_by": "0.1"}
  ],
  "speed": [

//      {"if": "max_weight < 2.5 && truck_access_conditional == MISSING","multiply_by": "0"},
//      { "if": "max_weight < 2.5 && truck_access_conditional == NO", "multiply_by": "0" },
//
      { "if": "truck_traffic_conditional == NO", "multiply_by": "car_average_speed * 0.1"},
      { "if": "true", "limit_to": "car_average_speed * 0.9" },
      { "if": "true", "limit_to": "95" }
  ],
    "turn_costs":
    {
        "straight": 1,
        "left": 20,
        "right": 10,
        "time_request": "10 <= time_request <= 13 1 1.2 1.001",
        "left_affect": [
            { "if": "road_class == PRIMARY",  "multiply_by": "10" },
            { "if": "road_class == SECONDARY",  "multiply_by": "12" },
            { "if": "road_class == TERTIARY",  "multiply_by": "15" },
            { "if": "road_class == RESIDENTIAL",  "multiply_by": "20" }
        ],
        "right_affect": [
            { "if": "road_class == PRIMARY",  "multiply_by": "1.001" },
            { "if": "road_class == SECONDARY",  "multiply_by": "1.01" },
            { "if": "road_class == TERTIARY",  "multiply_by": "1.05" },
            { "if": "road_class == RESIDENTIAL",  "multiply_by": "1.1" }
        ],
        "straight_affect": [
            { "if": "road_class == PRIMARY",  "multiply_by": "1" },
            { "if": "road_class == SECONDARY",  "multiply_by": "1" },
            { "if": "road_class == TERTIARY",  "multiply_by": "1" },
            { "if": "road_class == RESIDENTIAL",  "multiply_by": "1" }
        ]
    }
}
